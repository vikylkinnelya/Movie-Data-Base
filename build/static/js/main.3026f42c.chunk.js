(this["webpackJsonpmovie-db"]=this["webpackJsonpmovie-db"]||[]).push([[0],{141:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},154:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var c=a(6),s=(a(137),a(0)),n=a.n(s),r=a(21),i=a.n(r),l=a(32),j=a(47),o=a(27),h=(a(141),a(165)),b=a(74),u=a(169),O=a(75),d=a(166),x=a(25),m=n.a.createContext(),v=a(164),f=function(){return Object(c.jsx)("div",{style:{margin:"100px 0",textAlign:"center"},children:Object(c.jsx)(v.a,{})})},g=(a(150),a(170)),p=a(43),w=a(175),y=a(41),S=(a(151),a(172)),C=a(174),z=a(173),I=function(){var e=Object(s.useContext)(m),t=e.genreList,a=e.setGenreList,n=e.yearValue,r=e.setYearValue;return Object(c.jsxs)(S.a,{className:"filter-menu",children:[Object(c.jsx)(S.a.Item,{children:Object(c.jsx)(C.a.Group,{options:["movie","series"],value:t,onChange:function(e){return a(e)}})},"1"),Object(c.jsx)(S.a.Item,{children:Object(c.jsx)(z.a,{className:"input-number",placeholder:"year",style:{background:"none",border:"1px",fontSize:"17px",color:"white"},value:n,onChange:function(e){return r(e)}})},"2")]})},N=g.a.Search,k=function(e){var t=e.searchHandler,a=Object(s.useState)(!1),n=Object(o.a)(a,2),r=n[0],i=n[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(O.a,{className:"search-row",children:[Object(c.jsxs)(p.a,{className:"search",children:[Object(c.jsx)(N,{placeholder:"enter movie, series",size:"large",onSearch:function(e){return t(e)}})," "]}),Object(c.jsx)(p.a,{children:Object(c.jsx)(w.a,{overlay:Object(c.jsx)(I,{}),placement:"bottomLeft",onClick:function(){return i(!r)},visible:r,overlayStyle:{top:"64px"},children:Object(c.jsx)(y.a,{style:{background:"none"},className:"filter-menu-btn",icon:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",width:"30",height:"30",className:"bi bi-filter",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})})})})})]})})},M=(a(154),a(177)),V=a(178),H=a(133),L=function(e){var t=e.setPage,a=e.setGenre,s=e.loc;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(S.a,{selectedKeys:s,mode:"inline",theme:"dark",onClick:function(){return t(1)},children:[Object(c.jsxs)(S.a.Item,{className:"customclass",icon:Object(c.jsx)(M.a,{}),onClick:function(){return a(["movie","series"])},children:[Object(c.jsx)(l.b,{to:"/main/1"}),"main"]},"main"),Object(c.jsxs)(S.a.Item,{className:"customclass",icon:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-film",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z"})}),onClick:function(){return a(["movie"])},children:[Object(c.jsx)(l.b,{to:"/films/1"}),"movies"]},"films"),Object(c.jsxs)(S.a.Item,{className:"customclass",icon:Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-camera-reels",viewBox:"0 0 16 16",children:[Object(c.jsx)("path",{d:"M6 3a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM1 3a2 2 0 1 0 4 0 2 2 0 0 0-4 0z"}),Object(c.jsx)("path",{d:"M9 6h.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 7.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 16H2a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h7zm6 8.73V7.27l-3.5 1.555v4.35l3.5 1.556zM1 8v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1z"}),Object(c.jsx)("path",{d:"M9 6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM7 3a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"})]}),onClick:function(){return a(["series"])},children:[Object(c.jsx)(l.b,{to:"/serials/1"}),"serials"]},"serials"),Object(c.jsxs)(S.a.Item,{className:"customclass",icon:Object(c.jsx)(V.a,{}),children:[Object(c.jsx)(l.b,{to:"/favorites/1"}),"liked"]},"favorites"),Object(c.jsxs)(S.a.Item,{className:"customclass",icon:Object(c.jsx)(H.a,{}),children:[Object(c.jsx)(l.b,{to:"/to-watch/1"}),"watchlist"]},"to-watch")]})})},F=a(171),D=a(179),R=function(e){var t=e.history,a=e.setQ,s=function(){var e=["love","hate","sex","live","death","sad","earth","moon","sun","war","rage"];return e[Math.floor(Math.random()*e.length)]};return Object(c.jsx)(F.a,{icon:Object(c.jsx)(D.a,{}),title:"Welcome to the movie database",extra:Object(c.jsx)(y.a,{type:"primary",onClick:function(){return t.push("/main/1"),void a((function(){return s()}))},children:"let's start"})})},P=(a(158),a(159),a(167)),A=a(176),T=a(180),E=a(181),G=a(115),B=function(e,t,a,c){var s=Object(j.a)(Object(j.a)({},e),{},{fav:!e.fav}),n=Object(j.a)(Object(j.a)({},e),{},{watch:!e.watch}),r=a.findIndex((function(t){return t===e})),i="fav"===t?s:n;c([].concat(Object(G.a)(a.slice(0,r)),[i],Object(G.a)(a.slice(r+1))))},Q=P.a.Meta,W=function(e){var t=e.result,a=e.ClickHandler,n=e.Title,r=e.Poster,i=e.Type,l=Object(s.useContext)(m),j=l.movie,o=l.setMovie;return Object(c.jsx)(P.a,{className:"card-container",cover:Object(c.jsx)("img",{alt:n,src:"N/A"===r?"https://placehold.it/198x264&text=Image+Not+Found":r,onClick:function(){return a()}}),actions:[Object(c.jsx)(c.Fragment,{children:"movie"===i?Object(c.jsx)(A.a,{color:"magenta",children:i}):Object(c.jsx)(A.a,{color:"green",children:i})}),Object(c.jsx)(y.a,{className:t.watch?"overlay watch active":"overlay watch",shape:"circle",icon:t.watch?Object(c.jsx)(T.a,{}):Object(c.jsx)(H.a,{}),onClick:function(){return B(t,"watch",j,o)}},"watch"),Object(c.jsx)(y.a,{className:t.fav?"overlay like active":"overlay like",shape:"circle",icon:t.fav?Object(c.jsx)(E.a,{}):Object(c.jsx)(V.a,{}),onClick:function(){return B(t,"fav",j,o)}},"fav")],children:Object(c.jsx)(Q,{title:n,description:!1,onClick:function(){return a()}})})},q=function(e,t,a,c){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",r=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,j=arguments.length>9?arguments[9]:void 0,o="a6a004a3";fetch("https://www.omdbapi.com/?".concat(e,"=").concat(t,"&page=").concat(c,"&type=").concat(2===s.length?s="":s,"&y=").concat(n,"&apikey=").concat(o)).then((function(e){return e.json()})).then((function(t){if("False"===t.Response)throw r(t.Error),new Error(t.statusText);"s"===e&&(a(t.Search),i(t.totalResults)),"i"===e&&t&&a(t),l(!1),j(!1)})).catch((function(e){var t=e.message;l(!1),r(t)}))},J=function(e){var t=e.state,a=Object(s.useContext)(m),n=a.setLoading,r=a.setError,i=a.setTotalResults,l=a.setActivateModal,o=a.setDetailRequest,h=a.setShowDetail,b=a.favId,u=a.watchId,O=a.genreList,d=a.yearValue,x=a.currPage,v=[];return Object(c.jsx)(c.Fragment,{children:null!==t&&t.length>0&&t.map((function(e){if(!v.includes(e.imdbID))return v.push(e.imdbID),Object(c.jsx)(W,Object(j.a)({isFav:b.includes(e.imdbID),isWatch:u.includes(e.imdbID),ClickHandler:function(){return t=e,l(!0),o(!0),void q("i",t.imdbID,h,x,O,d,r,i,n,o);var t},result:e},e),e.imdbID)}))})},Y=function(){var e=Object(s.useContext)(m),t=e.movie,a=e.favList,n=e.watchList,r=e.loading,i=e.history,j=e.setQuery;return Object(c.jsx)(O.a,{className:"cards-row",children:Object(c.jsxs)(x.b,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(R,{history:i,setQ:j})}),Object(c.jsx)(l.a,{path:"/main/:page",children:r?Object(c.jsx)(f,{}):Object(c.jsx)(J,{state:t})}),Object(c.jsx)(l.a,{path:"/favorites/:page",children:Object(c.jsx)(J,{state:a})}),Object(c.jsx)(l.a,{path:"/to-watch/:page",children:Object(c.jsx)(J,{state:n})}),Object(c.jsx)(l.a,{path:"/films/:page",children:Object(c.jsx)(J,{state:t})}),Object(c.jsx)(l.a,{path:"/serials/:page",children:Object(c.jsx)(J,{state:t})})]})})},K=function(e,t,a,c){return"favorites"===e?t.length:"to-watch"===e?a.length:c},U=function(e){for(var t=[],a=0;a<localStorage.length;a++){var c=localStorage.key(a);c.includes(e)&&t.push(localStorage.getItem(c))}return t},X=a(168).a.Title,Z=function(e){var t=e.Title,a=e.Poster,s=e.imdbRating,n=e.Rated,r=e.Runtime,i=e.Genre,l=e.Plot;return Object(c.jsxs)(O.a,{children:[Object(c.jsx)(p.a,{span:11,children:Object(c.jsx)("img",{src:"N/A"===a?"https://placehold.it/198x264&text=Image+Not+Found":a,alt:t})}),Object(c.jsxs)(p.a,{span:13,children:[Object(c.jsxs)(O.a,{children:[Object(c.jsx)(p.a,{span:21,children:Object(c.jsx)(X,{level:4,children:t})}),Object(c.jsx)(p.a,{span:3,style:{textAlign:"right"},children:Object(c.jsx)(X,{level:4,children:Object(c.jsx)("span",{style:{color:"#41A8F8"},children:s})})})]}),Object(c.jsx)(O.a,{style:{marginBottom:"20px"},children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)(A.a,{children:n}),Object(c.jsx)(A.a,{children:r}),Object(c.jsx)(A.a,{children:i})]})}),Object(c.jsx)(O.a,{children:Object(c.jsx)(p.a,{children:l})})]})]})},$=function(e){return"films"===e?["movie"]:"serials"===e?["series"]:["movie","series"]},_=h.a.Header,ee=h.a.Content,te=h.a.Footer,ae=h.a.Sider;var ce=Object(x.g)((function(){var e=Object(x.e)(),t=Object(x.f)().pathname.split("/")[1],a=Object(x.f)().pathname.split("/")[2],n=Object(s.useState)(null),r=Object(o.a)(n,2),i=r[0],l=r[1],v=Object(s.useState)(null),g=Object(o.a)(v,2),p=g[0],w=g[1],y=Object(s.useState)(!1),S=Object(o.a)(y,2),C=S[0],z=S[1],I=Object(s.useState)(),N=Object(o.a)(I,2),M=N[0],V=N[1],H=Object(s.useState)(!1),F=Object(o.a)(H,2),D=F[0],R=F[1],P=Object(s.useState)(!1),A=Object(o.a)(P,2),T=A[0],E=A[1],G=Object(s.useState)(!1),B=Object(o.a)(G,2),Q=B[0],W=B[1],J=Object(s.useState)([]),X=Object(o.a)(J,2),ce=X[0],se=X[1],ne=Object(s.useState)((function(){return U("favList")})),re=Object(o.a)(ne,2),ie=re[0],le=re[1],je=Object(s.useState)([]),oe=Object(o.a)(je,2),he=oe[0],be=oe[1],ue=Object(s.useState)((function(){return U("watchList")})),Oe=Object(o.a)(ue,2),de=Oe[0],xe=Oe[1],me=Object(s.useState)(!1),ve=Object(o.a)(me,2),fe=ve[0],ge=ve[1],pe=Object(s.useState)(a||1),we=Object(o.a)(pe,2),ye=we[0],Se=we[1],Ce=Object(s.useState)(null),ze=Object(o.a)(Ce,2),Ie=ze[0],Ne=ze[1],ke=Object(s.useState)((function(){return $(t)})),Me=Object(o.a)(ke,2),Ve=Me[0],He=Me[1],Le=Object(s.useState)(null),Fe=Object(o.a)(Le,2),De=Fe[0],Re=Fe[1],Pe=Object(s.useCallback)((function(){q("s",M,l,ye,Ve,De,w,Ne,z,W)}),[M,ye,Ve,De]),Ae={movie:i,setMovie:l,favList:ce,setFav:se,favId:ie,setFavId:le,watchList:he,setWatch:be,watchId:de,setWatchId:xe,genreList:Ve,setGenreList:He,yearValue:De,setYearValue:Re,currPage:ye,setCurrPage:Se,totalResults:Ie,setTotalResults:Ne,setActivateModal:R,detail:T,setShowDetail:E,detailRequest:Q,setDetailRequest:W,setError:w,loading:C,setLoading:z,setQuery:V,history:e};return Object(s.useEffect)((function(){z(!0),w(null),l(null),Ne(null),Pe()}),[Pe]),Object(c.jsx)(m.Provider,{value:Ae,children:Object(c.jsxs)(h.a,{children:[Object(c.jsx)(ae,{breakpoint:"lg",collapsible:!0,onCollapse:function(){return ge(!fe)},children:Object(c.jsx)(L,{setPage:Se,setGenre:He,loc:t})}),Object(c.jsxs)(h.a,{className:"layout",children:[Object(c.jsx)(_,{className:"header",children:Object(c.jsx)(k,{searchHandler:V})}),Object(c.jsxs)(ee,{children:[null!==p&&Object(c.jsx)("div",{className:"error-row",style:{margin:"20px 0"},children:Object(c.jsx)(b.a,{description:p,type:"error"})}),Object(c.jsx)(Y,{}),Object(c.jsx)("div",{className:"modal-detail",children:Object(c.jsx)(u.a,{title:"Details",centered:!0,visible:D,onCancel:function(){R(!1),E(null)},footer:null,children:!1===Q?Object(c.jsx)(Z,Object(j.a)({},T)):Object(c.jsx)(f,{})})}),Object(c.jsx)(O.a,{children:Object(c.jsx)(d.a,{current:parseInt(ye)||parseInt(a),total:K(t,ce,he,Ie),onChange:function(a){return function(a){Se(a),e.push("/".concat(t,"/").concat(a))}(a)},hideOnSinglePage:!0,showSizeChanger:!1,pageSize:10})})]}),Object(c.jsx)(te,{children:"footer"})]})]})})}));i.a.render(Object(c.jsx)(l.a,{children:Object(c.jsx)(ce,{})}),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.3026f42c.chunk.js.map