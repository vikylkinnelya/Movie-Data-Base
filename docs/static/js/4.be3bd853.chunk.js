(this["webpackJsonpmovie-db"]=this["webpackJsonpmovie-db"]||[]).push([[4],{182:function(t,e,c){},183:function(t,e,c){},189:function(t,e,c){"use strict";c.r(e);var a=c(3),n=c(104),i=(c(182),c(0)),o=c(80),s=(c(183),c(188)),l=c(185),r=c(40),u=c(186),h=c(129),d=c(187),v=c(175),j=c(184),b=function(t,e,c,a,n,i){var o,s=a+"_"+t.imdbID;e.includes(t)||(o=[].concat(Object(j.a)(e),[t]),localStorage.setItem(s,JSON.stringify(t))),e.includes(t)&&(o=e.filter((function(e){return e!==t})),localStorage.removeItem(s)),c(o)},f=s.a.Meta,g=function(t){var e=t.result,c=t.ClickHandler,n=t.Title,j=t.Poster,g=t.Type,m=t.isWatch,p=t.isFav,O=Object(i.useContext)(o.a),x=O.watchList,w=O.favList,k=O.setWatch,y=O.setFav;return Object(a.jsx)(s.a,{className:"card-container",cover:Object(a.jsx)("img",{alt:n,src:"N/A"===j?"https://placehold.it/198x264&text=Image+Not+Found":j,onClick:function(){return c()}}),actions:[Object(a.jsx)(a.Fragment,{children:"movie"===g?Object(a.jsx)(l.a,{className:"tag-type",color:"magenta",children:g}):Object(a.jsx)(l.a,{className:"tag-type",color:"green",children:g})}),Object(a.jsx)(r.a,{className:m?"overlay watch active":"overlay watch",shape:"circle",icon:m?Object(a.jsx)(u.a,{}):Object(a.jsx)(h.a,{}),onClick:function(){return b(e,x,k,"watch")}},"watch"),Object(a.jsx)(r.a,{className:p?"overlay like active":"overlay like",shape:"circle",icon:p?Object(a.jsx)(d.a,{}):Object(a.jsx)(v.a,{}),onClick:function(){return b(e,w,y,"fav")}},"fav")],children:Object(a.jsx)(f,{title:n,description:!1,onClick:function(){return c()}})})},m=function(t,e,c,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,r=arguments.length>9?arguments[9]:void 0,u="a6a004a3";fetch("https://www.omdbapi.com/?".concat(t,"=").concat(e,"&page=").concat(a,"&type=").concat(2===n.length?n="":n,"&y=").concat(i,"&apikey=").concat(u)).then((function(t){return t.json()})).then((function(e){if("False"===e.Response)throw o(e.Error),console.log(e.Error),new Error(e.statusText);"s"===t&&(c(e.Search),s(e.totalResults)),"i"===t&&e&&c(e),o(null),l(!1),r(!1)})).catch((function(t){var e=t.message;l(!1),o(e)}))},p=function(t){var e=t.state,c=Object(i.useContext)(o.a),s=c.favList,l=c.watchList,r=c.q,u=c.setMovie,h=c.setLoading,d=c.setError,v=c.setTotalResults,j=c.setActivateModal,b=c.setDetailRequest,f=c.setShowDetail,p=c.genreList,O=c.yearValue,x=c.currPage,w=Object(i.useCallback)((function(){m("s",r,u,x,p,O,d,v,h,b)}),[r,x,p,O]);Object(i.useEffect)((function(){h(!0),d(null),u(null),v(null),w()}),[w]);var k=[];return Object(a.jsx)(a.Fragment,{children:null!==e&&e.length>0&&e.slice(0,10).map((function(t){if(!k.includes(t.imdbID))return k.push(t.imdbID),Object(a.jsx)(g,Object(n.a)({isFav:s.includes(t)||localStorage.getItem("fav_"+t.imdbID),isWatch:l.includes(t)||localStorage.getItem("watch_"+t.imdbID),ClickHandler:function(){return e=t,j(!0),b(!0),void m("i",e.imdbID,f,x,p,O,d,v,h,b);var e},result:t},t),t.imdbID)}))})};e.default=p}}]);
//# sourceMappingURL=4.be3bd853.chunk.js.map